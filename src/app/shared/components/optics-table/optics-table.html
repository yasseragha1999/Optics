<div class="card">
  <p-table [value]="products" [tableStyle]="{ 'min-width': '60rem' }">

    <ng-template pTemplate="caption">
      <div class="card flex flex-wrap justify-between items-center mb-2 ">
        <span class="text-3xl font-bold">{{ caption }}</span>
        @if (showButton) {
          <p-button severity="info" [routerLink]="buttonNavigate" [label]="buttonName.toUpperCase()"/>
        }
      </div>
      <div class="flex justify-end">
        @if (searchFilter) {
          <p-iconfield>
            <p-inputicon class="pi pi-search"/>
            <input type="text" pInputText placeholder="Search"/>
          </p-iconfield>
        }
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        @for (col of cols; track col) {
          <th>{{ col.header }}</th>
        }
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-product>
      <tr>
        @for (col of cols; track col) {
          @if (col.field == 'status') {
            <td>
              <p-tag [value]="product[col.field]" [rounded]="true" [severity]="getSeverity(product[col.field])"></p-tag>
            </td>
          } @else {
            <td>{{ product[col.field] }}</td>
          }
        }
      </tr>
    </ng-template>
  </p-table>
</div>
